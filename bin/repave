#!/usr/bin/env ruby
require_relative File.join(__dir__, "..", "lib",  "repave", "task")
require_relative File.join(__dir__, "..", "lib",  "repave", "mac_defaults")

files = Dir.glob(File.join(__dir__, "..", "lib", "repave", "*.rb"))
files.each do |task_file|
  require_relative task_file
end

module Repave

  TASKS =
    [
      # SetSystemName
      AppendToGitconfig,
      Homebrew,
      RcmConfig,
      QuicksilverYosemite, # I still use this occastionally
      MacDefaultsMisc, # This should be first of the MacDefaults
      MacDefaultsScreenshots,
      MacDefaultsDock,
      MacDefaultsFinder,
      MacDefaultsInput,
      MacDefaultsAppStore,
    # JetbrainsPrefs, # still broken
    ]
end

Repave::TASKS.each do |task|
  task.new.run_task
end
